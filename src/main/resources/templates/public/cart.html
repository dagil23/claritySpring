<!DOCTYPE html>
<html>
 <head th:replace="Layouts/head :: head ('Carrito')"></head>
<body>
<header th:replace="Layouts/header :: header"></header>
<h1>Carrito de <p th:text="${usuario}"></p></h1>
<div class="container mt-5">
    <h2 class="text-center mb-4">Tu Carrito</h2>
    <table class="table align-middle">
      <thead class="table-light">
        <tr>
          <th scope="col" class="text-center">Imagen</th>
          <th scope="col">Producto</th>
          <th scope="col">Talla</th>
          <th scope="col" class="text-center">Cantidad</th>
          <th scope="col" class="text-center">Precio</th>
          <th scope="col" class="text-center">Subtotal</th>
          <th scope="col" class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- Iterar sobre las líneas de pedido -->
        <tr >
          <td class="text-center">
            <!-- Imagen del producto -->
            <img src=" " alt="Imagen Producto" class="rounded" style="width: 80px;">
          </td>
          <td>
            <!-- Nombre y descripción del producto -->
            <h6 class="mb-0" >Nombre Producto</h6>
            <small class="text-muted" >Descripción breve del producto</small>
          </td>
          <td>
            <!-- Talla del producto -->
            <span class="badge bg-secondary" >Talla</span>
          </td>
          <td class="text-center">
            <!-- Formulario para actualizar cantidad -->
            <form th:action="@{/cart/update}" method="post" class="d-flex justify-content-center">
              <input type="hidden" name="lineaPedidoId" >
              <input type="number" name="cantidad"  min="1"
                class="form-control form-control-sm w-50 text-center">
              <button class="btn btn-outline-primary btn-sm ms-2" type="submit">Actualizar</button>
            </form>
          </td>
          <td class="text-center">
            <!-- Precio unitario del producto -->
            <span >0.00 €</span>
          </td>
          <td class="text-center">
            <!-- Subtotal de la línea de pedido -->
            <span >0.00 €</span>
          </td>
          <td class="text-center">
            <!-- Formulario para eliminar línea de pedido -->
            <form th:action="@{/cart/delete}" method="post">
              <input type="hidden" name="lineaPedidoId" >
              <button class="btn btn-outline-danger btn-sm" type="submit">Eliminar</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Resumen del total -->
    <div class="d-flex justify-content-between align-items-center mt-4">
      <h4 class="text-muted" >Total: 0.00 €</h4>
      <!-- Formulario para finalizar compra -->
      <form th:action="@{/cart/checkout}" method="post">
        <button class="btn btn-success btn-lg" type="submit">Finalizar Compra</button>
      </form>
    </div>
  </div>
</body>
</html>